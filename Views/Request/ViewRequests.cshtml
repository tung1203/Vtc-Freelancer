@model IEnumerable<Vtc_Freelancer.Models.Request>;
@{
ViewData["Title"] = "Management Request";
}

<div class="container">

    <div class="request-body">
        <h1 class="mngr-request" style="color: black; font-weight: 300;">Management Requests</h1>
        <div class="tab" id="tab-request">
            <button class="tab-requests active" onclick="OpenGigs(event, 'Active')">ACTIVE</button>
            <button class="tab-requests" onclick="OpenGigs(event, 'Pause')">PAUSE</button>
            <button class="tab-requests" onclick="OpenGigs(event, 'Unapproved')">UNAPPROVED</button>
        </div>
        <div class="wrapper-table-request" id="Active" style="display: grid;">
            <table>
                <thead>
                    <tr>
                        <td>Date</td>
                        <td>Request</td>
                        <td>Offers</td>
                        <td>Action</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        @if(@Model != null)
                        {
                            @foreach (var item in Model)
                            {
                                @if (item.Status == 0)
                                {
                                    <td class="date  height95">
                                    @item.TimeCreate.ToString("dd/MM/yyyy")
                                    </td>
                                    <td class="text-wide">
                                        <p>@item.Description</p>
                                        <div>
                                            <div class="info-line">Delivery Time - @item.DeliveredTime days</div>
                                            <div class="info-line">Budget - <span>$@item.Budget</span></div>
                                        </div>
                                        <div class="tags-standard tags-white-bg">
                                            @foreach (var item1 in ViewBag.listcategory)
                                            {
                                            <span>@item1.CategoryName</span>
                                            }
                                        </div>
                                    </td>
                                    <td>
                                        <a href="" class="review-offers">@item.QuantityOffers Review Offers</a>
                                    </td>
                                    <td></td>
                                }
                            }
                        }
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="wrapper-table-request" id="Pause">
            <table>
                <thead>
                    <tr>
                        <td>Date</td>
                        <td>Request</td>
                        <td>Offers</td>
                        <td>Action</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        @if(@Model != null)
                        {
                            @foreach (var item in Model)
                            {
                                @if (item.Status == 0)
                                {
                                    <td class="date  height95">
                                    @item.TimeCreate.ToString("dd/MM/yyyy")
                                    </td>
                                    <td class="text-wide">
                                        <p>@item.Description</p>
                                        <div>
                                            <div class="info-line">Delivery Time - @item.DeliveredTime days</div>
                                            <div class="info-line">Budget - <span>$@item.Budget</span></div>
                                        </div>
                                        <div class="tags-standard tags-white-bg">
                                            @foreach (var item1 in ViewBag.listcategory)
                                            {
                                            <span>@item1.CategoryName</span>
                                            }
                                        </div>
                                    </td>
                                    <td>
                                        <a href="" class="review-offers">@item.QuantityOffers Review Offers</a>
                                    </td>
                                    <td></td>
                                }
                            }
                        }
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="wrapper-table-request" id="Unapproved">
            <table>
                <thead>
                    <tr>
                        <td>Date</td>
                        <td>Request</td>
                        <td>Offers</td>
                        <td>Action</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        @if(@Model != null)
                        {
                            @foreach (var item in Model)
                            {
                                @if (item.Status == 1)
                                {
                                    <td class="date  height95">
                                        @item.TimeCreate.ToString("dd/MM/yyyy")
                                    </td>
                                    <td class="text-wide">
                                        <p></p>
                                        <div>
                                            <div class="info-line">Delivery Time - @item.DeliveredTime days</div>
                                            <div class="info-line">Budget - <span>$@item.Budget</span></div>
                                        </div>
                                        <div class="tags-standard tags-white-bg">
                                            @foreach (var item1 in ViewBag.listcategory)
                                            {
                                            <span>@item1.CategoryName</span>
                                            }
                                        </div>
                                    </td>
                                    <td></td>
                                    <td></td>
                                }
                            }
                        }
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<script>
    function OpenGigs(event, typeGig) {

        var listGigs = document.getElementsByClassName('wrapper-table-request');
        for (let i = 0; i < listGigs.length; i++) {
            listGigs[i].style.display = "none";
        }
        var tabGig = document.getElementsByClassName('tab-requests');
        for (let i = 0; i < tabGig.length; i++) {
            tabGig[i].className = tabGig[i].className.replace(" active", "");
        }
        document.getElementById(typeGig).style.display = "grid";
        event.currentTarget.className += " active";

    }
</script>